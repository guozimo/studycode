/*! grafana - v2.0.2 - 2015-04-22
 * Copyright (c) 2015 Torkel Ã–degaard; Licensed Apache License */

define(["helpers","features/panel/soloPanelCtrl","features/dashboard/dashboardSrv"],function(a){"use strict";describe("SoloPanelCtrl",function(){var b=new a.ControllerTestContext,c={},d={},e={},f={hasRole:sinon.stub().returns(!0)};beforeEach(module("grafana.routes")),beforeEach(module("grafana.services")),beforeEach(b.providePhase({$routeParams:d,contextSrv:f,$location:{search:function(){return e}},templateValuesSrv:{init:sinon.stub()},backendSrv:c})),beforeEach(b.createControllerPhase("SoloPanelCtrl")),describe("setting up solo panel scope",function(){beforeEach(function(){var a={model:{rows:[{panels:[{id:23,some:"prop"}]}]},meta:{}};d.slug="my dash",e.panelId=23,c.getDashboard=sinon.stub().returns(b.$q.when(a)),b.scope.init(),b.scope.$digest()}),it("should load dashboard and extract panel and setup panel scope",function(){expect(b.scope.panel.id).to.be(23),expect(b.scope.panel.some).to.be("prop")}),it("should hide sidemenu",function(){expect(f.sidemenu).to.be(!1)})})})});